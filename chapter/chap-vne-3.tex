\chapter{面向媒体业务的虚拟网络嵌入研究}
\label{chap:vne}
\section{引言}
1.简要介绍大背景
2.简要介绍本部分内容
\section{相关研究}
国内外研究现状
\section{面向媒体业务的虚拟网络嵌入算法设计}
\subsection{整体架构}
本章提出了面向媒体业务的虚拟网络嵌入算法（MSO-VNE），其整体架构如图\ref{fig:procedure}所示。MSO-VNE在进行虚拟网络嵌入时，主要分以下两个步骤:
\par
\textbf{1）全局处理}
\par
全局处理“中心式”地对原始的虚拟网络请求进行节点聚类和分割，将原始的虚拟网络子请求划分为规模较小的子请求，并将每个子请求分派到相应的区域的底层物理网络中进行局部嵌入。
\par
\textbf{2）局部嵌入}
\par
局部嵌入对每个子请求实施真正的嵌入处理。实际上，多个子请求可以“分布式”地在各自区域的底层物理网络中执行真正的嵌入处理。在局部嵌入中，我们采用了动态服务均衡分析以辅助嵌入并提高效率。
\par
在下面的章节中，我们将详细介绍面向媒体业务的虚拟网络嵌入算法MSO-VNE。
\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{procedure.eps}
\caption{面向媒体业务的虚拟网络嵌入算法整体架构}
\label{fig:procedure}
\end{figure}

\subsection{网络模型}
\textbf{1）虚拟网络请求}
\par
虚拟网络请求可建模为带权重的无向图$G^v=(N^v,E^v)$，其中$N^v$是虚拟节点集合，而$E^v$是虚拟链路集合。定义虚拟节点$n^v$的邻居节点集合为$N^v(n^v)$，定义连接到节点$n^v$的链路集合为$E^v(n^v)$。虚拟网络请求中的节点和链路都与他们的需求限制相关联。我们定义虚拟网络请求中，虚拟节点的需求限制信息包括：地理位置$L^v$、存储容量$S^v$、磁盘I/O速率$I^v$、CPU数量$P^v$和内存大小$M^v$，虚拟链路的需求限制包括带宽$B^v$、 延迟$D^v$和延迟抖动$J^v$。表格\ref{tab:constraint}详细列举出了虚拟网络请求需求限制，并为各个需求限制定义权重影响因子以计算虚拟节点和虚拟链路的归一化需求限制。因此，虚拟网络请求中虚拟节点$n^v$的归一化资源$c^v(n^v)$表示为: $$c^v(n^v)=S^v(n^v)\cdot w_S^n + I^v(n^v) \cdot w_I^n + P^v(n^v)\cdot w_P^n + M^v(n^v)\cdot w_M^n$$
\par
虚拟链路$e^v$的归一化资源$b^v(e^v)$表示为:
$$b^v(e^v)=B^v(e^v)\cdot w_B^e + D^v(e^v) \cdot w_D^e + J^v(e^v)\cdot w_J^e$$
\par
其中地理位置主要用于节点聚类分析，不用考虑在节点需求的归一化表示中。

\begin{table}
\centering
\begin{tabular}{|c|c|c|c|c|c|}
\hline
\multicolumn{3}{|c|}{虚拟节点需求限制} & \multicolumn{3}{|c|}{虚拟链路需求限制}\\\hline
因素 & 符号表示 & 权重因子 & 因素 & 符号表示 & 权重因子\\\hline
地理位置 & $L^v$ &         & 带宽 &  $B^v$   & $w_B^e$ \\\hline
存储容量 & $S^v$ & $w_S^n$ & 延迟 &  $D^v$   & $w_D^e$ \\\hline
磁盘I/O & $I^v$  & $w_I^n$ & 延迟抖动 & $J^v$ & $w_J^e$ \\\hline
CPU数量 & $P^v$  & $w_P^n$ &           &       &      \\\hline
内存大小 & $M^v$ & $w_M^n$ &            &       &     \\\hline
归一化资源 & $c^v$ &       & 归一化资源& $b^v$ &       \\\hline
\multicolumn{3}{|c|}{$w_S^n + w_I^n + w_P^n + w_M^n = 1$} & \multicolumn{3}{|c|}{$w_B^e + w_D^e + w_J^e = 1$}\\\hline
\end{tabular}
\caption{虚拟网络请求的需求限制}
\label{tab:constraint}
\end{table}

\begin{table}
\centering
\begin{tabular}{|c|c|c|c|c|c|}
\hline
\multicolumn{3}{|c|}{节点资源限制} & \multicolumn{3}{|c|}{链路资源限制}\\\hline
因素 & 符号表示 & 权重因子 & 因素 & 符号表示 & 权重因子\\\hline
地理位置 & $L^s$ &         & 带宽 &  $B^s$   & $w_B^e$ \\\hline
存储容量 & $S^s$ & $w_S^n$ & 延迟 &  $D^s$   & $w_D^e$ \\\hline
磁盘I/O & $I^s$  & $w_I^n$ & 延迟抖动 & $J^s$ & $w_J^e$ \\\hline
CPU数量 & $P^s$  & $w_P^n$ &           &       &      \\\hline
内存大小 & $M^s$ & $w_M^n$ &            &       &     \\\hline
归一化资源 & $c^s$ &       & 归一化资源& $b^s$ &       \\\hline
\multicolumn{3}{|c|}{$w_S^n + w_I^n + w_P^n + w_M^n = 1$} & \multicolumn{3}{|c|}{$w_B^e + w_D^e + w_J^e = 1$}\\\hline
\end{tabular}
\caption{底层物理网络的资源限制}
\label{tab:resource}
\end{table}

\par
\textbf{2）底层物理网络}
\par
底层物理网络可建模为带权重的无向图$G^s=(N^s,E^s)$，底层物理网络的第$i$个区域表示为无向图$G_i^s=(N_i^s,E_i^s)$，其中$N_i^s$表示区域$i$内的节点集合，而$E_i^s$表示区域$i$内的链路集合。定义节点$n^s$的邻居节点集合为$N^s(n^s)$，定义连接到节点$n^s$的链路集合为$E^s(n^s)$。底层物理网络中的节点和链路都与他们的资源限制相关联。我们定义底层物理网络中，节点的资源限制信息包括：地理位置$L^s$、 存储容量$S^s$、 磁盘I/O速率$I^s$、CPU数量$P^s$和内存大小$M^s$，链路资源限制包括带宽$B^s$、 延迟$D^s$和延迟抖动$J^s$。表格\ref{tab:resource}详细列举出了底层物理网络中的资源限制，并为各个资源限制定义权重影响因子以计算节点和链路的归一化资源限制。因此，底层物理网络中节点$n^s$的归一化资源$c^s(n^s)$表示为:$$c^s(n^s)=S^s(n^s)\cdot w_S^n + I^s(n^s) \cdot w_I^n + P^s(n^s)\cdot w_P^n + M^s(n^s)\cdot w_M^n$$
\par
链路$e^s$的归一化资源$b^s(e^s)$表示为: $$b^s(e^s)=B^s(e^s)\cdot w_B^e + D^s(e^s) \cdot w_D^e + J^s(e^s)\cdot w_J^e$$
\par
其中地理位置主要用于节点聚类分析，不用考虑在节点资源的归一化表示中。
\par
在虚拟网络请求和底层物理网络中，节点与链路需求限制和资源限制都涉及权重影响因子的设定。根据不同的应用场景，可酌情对不同的影响因素设定不同的权重，通用情况下，可设定简单直观的均衡权重。
\par
在虚拟网络嵌入问题中，随着时间的推移，虚拟网络请求会到达并嵌入到底层物理网络中，同时，也有部分生命周期结束的虚拟网络请求离开底层物理网络并释放占用的资源。因此，底层物理网络中的资源又分为可用资源$c_{available}$和占用资源$c_{used}$。我们定义虚拟网络请求及其占用的资源为一个映射$MAP$，任意一个映射对$<r,c>\in MAP$，表示虚拟网络请求$r$占用底层物理网络的$c$资源。
\par
另外，我们对每个区域的底层物理网络定义了一个位置中心，如第$i$个区域的底层物理网络$G_i^s$，其位置中心为$O_i^s=(x_i,y_i)$。位置中心时虚拟的，并不真正存在一个中心点。虚拟的位置中心$O_i^s$定义为该区域内所有节点的几何中心：
$$O_i^s = \sum_{n^s\in N_i^s}\frac{l^s(n^s)}{|N_i^s|}$$
\par
其中，$|N_i^s|$表示第$i$个区域底层物理网络中的节点个数。在现实中，每个区域底层物理网络通常都是一个局域网环境，不同的区域底层物理网络通过Internet进行互联互通。由于Internet非常复杂，所以，我们假定在Internet中的带宽资源是无限的。虽然，上述假定是不成立的，但是我们对Internet的资源是没有办法控制的，因此上述假定也是合理的。

\subsection{节点聚类}
在面向媒体业务的虚拟网络嵌入算法（MSO-VNE）中，节点聚类分析是基于地理位置展开的，其原因有如下两点：
\par
1）数据中心或底层物理网络是分布在不同的地理位置的；
\par
2）虚拟网络请求，尤其是多媒体服务请求，希望通过部署在指定的地理位置来满足其QoS需求。
\par
对于实时业务而言，譬如多媒体服务等，它们对于地理位置的需求是非常重要的，因为它们需要较高的QoS服务质量以满足用户的体验需求。通常，一种有效的方式是通过把服务节点部署在离终端用户较近的地方，以减少服务延时，从而改善QoS 服务质量。
\par
因此，我们基于地理位置进行节点聚类分析。通过对虚拟网络请求$G^v$中的节点应用基于地理位置的聚类分析，从而将原始的虚拟网络请求聚类为多个规模较小的子请求。对于虚拟网络请求中的任意节点$n^v\in N^v$，它将被聚集到$C(n^v)$中：
$$C(n^v)=\mathop{argmin}_{i=0,1,2,\cdot,|O^s|-1}{dis(l^v(n^v),O_i^s)}$$
\par
每个虚拟节点$n^v$都被聚类到离它最近的区域底层物理网络$G_i^s$中，其中$i=C(n^v)$。同时，对于任意的虚拟网络请求$G^v$，其聚类后的子请求数量绝不超过区域底层物理网络的总数目$|O^s|$。
\par
聚类分析后，根据聚类结果，可以将虚拟网络请求$G^v$划分为一组虚拟网络子请求集合$Q$。任意一个子请求$G_i^v\in Q$都比原始的请求$G^v$ 规模小，子请求$G_i^v$中的虚拟节点属于相同的聚类$i$，其中$i$也是第$i$ 个区域底层物理网络$G_i^s$的索引。由于我们假定不同的区域底层物理网络通过互联网互联互通且互联网的链路资源是无限的，因此，任何端点在不同聚类中的虚拟链路都可以忽略不计。由此，每个虚拟网络子请求都可以独立地分配到区域底层物理网络$G_i^s$中进行嵌入，进而，所有的子请求都可以互不干扰地在不同的区域底层物理网络中进行并发处理。
\subsection{动态服务均衡}
PageRank算法可以有效地评估Web页面的质量和受欢迎程度，rank value 排名值暗含了Web页面的重要性。通常，一个被很多高排名值网页链接的Web网页将获得一个较高的排名值，同时，一个页面链接到越多的页面，它对其他页面的排名值的贡献就越小。
\par
受PageRank思想的启发，我们引入了服务容量来评估特定节点的重要性。在通用网络模型$G=(N,E)$中，对于任意一个节点$n\in N$，其服务容量$r(n)$ 可以定义为：
$$r(n)=\sum_{m\in N}{p(m,n)\cdot r(m)}$$
\par
在服务容量的定义中，我们引入了服务因子$p(m,n)$，它表示节点$m$ 对节点$n$ 的服务容量贡献，其定义如下：
$$p(m,n)=\left\{
\begin{array}{c l}
    f_1 & m=n\\
    \frac{f_2 \cdot r_0(n)}{\sum_{h \in N_{neigh}(m)}r_0(h)} &
    e(m,n)\in E\\
    0 & other
\end{array} \right.$$

\par
其中，$N_{neigh}(m)$表示节点$m$的邻居节点集合，而$f_1$和$f_2$是相应的权重常数，满足$f_1 + f_2 = 1$。$r_0(n)$是节点$n$的归一化资源，定义为节点资源和链接到该节点的链路资源的一半的乘积：
$$r_0(n)=c(n) \cdot \sum_{e \in E_{neigh}(n)}1/2\cdot b(e)$$
\par
其中，$E_{neigh}(n)$表示链接到节点$n$的链路集合，我们假定链路带宽是由链路两端的节点完全共享的，这就是系数1/2的来源。
\par
由此，动态服务均衡算法可以描述如表\ref{tab:dsba}所示。动态服务均衡算法中的迭代次数是多项式时间复杂度的。
\begin{table}
\centering
\begin{tabular}{rl}
\hline
\multicolumn{2}{l}{$R=LB(G,\varepsilon_m)$，其中$G=(N,E)$，$\varepsilon_m$为阈值}\\\hline
1: & Compute each $r_0(n)$ and $p(m,n)$, initialize $i\gets 0$ \\
2: & while $\varepsilon < {\varepsilon}_m$ do \\
3: & \qquad $\varepsilon \gets 0$ \\
4: & \qquad for all $n \in N$ do \\
5: & \qquad \qquad $r_{i+1}(n) \gets \sum_{m\in N}p(m,n)\cdot r_i(m)$ \\
6: & \qquad \qquad $\varepsilon \gets \varepsilon + \|r_{i+1}(n)-r_i(n)\|$ \\
7: & \qquad \qquad $i \gets i + 1$ \\
8: & \qquad end for \\
9: & end while \\\hline
\end{tabular}
\caption{动态服务均衡算法}
\label{tab:dsba}
\end{table}

\par
动态服务均衡算法在虚拟网络嵌入中扮演着非常重要的角色。假设在底层物理网络中存在两个节点，它们可用的资源是完全相同的，然后，它们邻居的可用资源，或者它们的邻居的邻居的可用资源却大不相同。此时，为了增加成功概率并减少虚拟链路在底层物理网络中的路径长度，我们宁愿选择其邻近节点具有更多资源的节点，也就是具有更高服务容量的节点。事实上，一个底层节点具有更高服务容量的可能原因包括以下两点：
\par
1）节点自身有丰富的资源
\par
2）节点的邻居有丰富的资源
\par
这些原因让我们更加相信那些具有较高服务容量的底层节点，其成功嵌入的概率也会更高。同时，“能者多劳”的思想使得一个成功的嵌入有更好的负载均衡效果。同样地，我们认为高服务容量的虚拟节点具有优先嵌入权，因为当该节点嵌入失败的时候，它可以提前告知整个虚拟网络请求的失败。
\subsection{局部子请求映射}
如图\ref{fig:procedure}所示，每个虚拟网络子请求的真正嵌入处理是指局部嵌入阶段完成的。由于各个子请求是独立无关的，因此，我们可以同时处理多个子请求。局部嵌入子请求时，主要采用贪心策略。贪心策略以节点的动态服务能力为参考依据，优先将子请求中具有最大动态服务能力的虚拟节点映射到对应的资源单元中具有最大动态服务能力的底层节点上。局部嵌入的具体算法描述如表\ref{tab:local algo}所示。
\begin{table}
\centering
\begin{tabular}{r|p{0.9\textwidth}}
\hline
\multicolumn{2}{l}{局部嵌入算法：$LocalEmbed(G_i^s, G_i^v)$}\\\hline
1: & 对$G_i^s$和$G_i^v$应用动态服务均衡分析，时间复杂度$O(|N_i^s|log|N_i^s|)$，其中$O(|N_i^s|) > O(|N_i^v|)$ \\\hline
2: & 从最高动态服务能力的节点$n^v$开始，依次处理所有未嵌入的虚拟节点\\\hline
2.1: & 从底层物理网络中选择最多$k$个最高动态服务能力的候选节点，候选节点都能满足节点$n^v$的需求。时间复杂度为$O(N_i^s)$ \\\hline
2.2: & 计算并找出每个候选节点到已映射节点之间的最短路径和总的路径开销，时间复杂度为$O(|N_i^v|\cdot(|N_i^s|log|N_i^s|) + |E_i^s|)$ \\\hline
2.3: & 在$k$个候选节点中，计算并找出最少路径开销的底层节点$n^s$，时间复杂度$O(k)$ \\\hline
2.4: & 将虚拟节点$n^v$映射到底层节点$n^s$上，同时完成已映射节点到$n^s$节点之间的链路映射，时间复杂度$O(|E_{neigh}^v(n^v)|)$ \\\hline
3: & 在所有的虚拟节点都成功映射完成后，分配实际的资源，时间复杂度$O(|N_i^v| + |E_i^v|)$ \\\hline
\end{tabular}
\caption{虚拟网络嵌入的局部嵌入算法}
\label{tab:local algo}
\end{table}

\par
因此，所有虚拟网络子请求嵌入处理的时间复杂度为$O(max_{0\leq i < |O^s|}(|N_i^v|^2 \cdot (|N_i^s|log|N_i^s| + |E_i^s|)))$。

\section{仿真验证}
\subsection{仿真环境}
为了评估本章提出的面向媒体业务的虚拟网络嵌入算法（MSO-VNE）的性能，我们设计了仿真实验，通过实现离散事件模拟器辅助仿真实验。
\par
由于真实物理网络设施的拓扑以及虚拟网络请求的拓扑都很难获得，因此，我们使用GT-ITM工具来随机地生成人工合成网络拓扑。在我们的仿真实验中，我们构建了3个区域底层物理网络，成千上万个虚拟网络请求。其中，每个区域底层网络包含50个节点，覆盖80 x 80的网格区域。我们假定不同的区域底层网络通过Internet进行互联，考虑到Internet的复杂性和不可控制性，我们假定Internet有无限的链路资源。为了使我们的仿真实验更接近真实情景，我们设定虚拟网络请求的到来服从泊松分布，平均到达速率是每100个时间单位4到8个请求不等。每个虚拟网络请求的生存周期服从平均1000个时间单位的指数分布，而每个虚拟网络请求的节点数量是2到10的均匀分布。
\par
仿真实验的参照对象是现有的D-ViNE算法和R-ViNE算法，主要的对比指标包括时间复杂度、负载分布、平均收益开销比和平均接受率。为了更真实准确地评估MSO-VNE算法的性能，我们在相同的仿真环境下对同样的数据集应用不同的虚拟网络嵌入算法。
\subsection{时间复杂度}
MSO-VNE算法的时间复杂度为$O(\max_{0\leq i < |O^s|}(|N_i^v|^2 \cdot (|N_i^s|log|N_i^s| + |E_i^s|)))$。在最坏的情况下，即所有的区域底层物理网络都位于同一个地理位置时，嵌入时间复杂度变为$O(|N^v|^2 \cdot (|N^s|log|N^s| + |E^s|))$。由于底层物理网络和虚拟网络请求是连通图，很明显，它们满足：$O(|N|)<O(|E|)$，因此，时间复杂度退化为$O(|E^v|^2 \cdot |E^s|log|E^s)$。然而，D-ViNE算法和R-ViNE算法的时间复杂度是$O((|E^s||E^v|)^{3.5}L^2lnLlnlnL)$。很显然，我们的MSO-VNE算法具有更低的时间复杂度。

\subsection{负载分布}
负载分布主要分析底层物理网络节点的负载分布和链路的负载分布。主要衡量在一段时间内，底层物理网络中各个节点和链路的负载情况，以及全部节点和链路的负载分布比例。
\par
在虚拟网络嵌入问题中，随着时间的推移，新的请求到达底层物理网络，而旧的请求随着其生命周期的结束而离开底层物理网络。因此，在底层物理网络中的可用资源是基本保持平稳的，如图\ref{fig:nb}和图\ref{fig:eb}所示。在MSO-VNE中，资源使用得最多和最少的底层物理网络节点和链路的比例都要低于其他的算法。换句话说，在其他的算法中，存在更多不合理利用的节点和链路，它们要么利用得太多，要么利用得太少。因此，MSO-VNE算法具有更均衡的负载分布。

\begin{figure}
\includegraphics[width=\textwidth]{nb.eps}
\caption{底层物理网络节点的负载分布}
\label{fig:nb}
\end{figure}

\begin{figure}
\includegraphics[width=\textwidth]{eb.eps}
\caption{底层物理网络链路的负载分布}
\label{fig:eb}
\end{figure}

\subsection{平均收益开销比}
如图\ref{fig:rcr}所示，在三个算法中，MSO-VNE算法有最高的平均收益开销比，这就意味着MSO-VNE获得相同的收益只需要更少的开销。实际上，MSO-VNE较高的平均收益开销比来源于虚拟链路的较短的底层路径长度，进一步，这也是受益于动态服务均衡分析。

\begin{figure}
\centering
\includegraphics[width=0.5\textwidth]{rcr.eps}
\caption{平均收益开销比对比结果}
\label{fig:rcr}
\end{figure}

\subsection{平均接受率}
平均接受率衡量的是已接受的请求在总请求中的比例，如图\ref{fig:accept}所示，在所有的算法中，MSO-VNE有最高的平均接受率。因此，在相同的环境下，MSO-VNE算法能接受的请求绝不会比其他的算法少。
\begin{figure}
\centering
\includegraphics[width=0.5\textwidth]{accept.eps}
\caption{平均接受率对比结果}
\label{fig:accept}
\end{figure}
\par
\section{面向媒体业务的资源映射交互框架}
基于面向媒体业务的虚拟网络嵌入算法MSO-VNE，我们基于MSO-VNE 算法提出了面向媒体业务的资源映射交互框架。
\subsection{系统框架}
在面向媒体业务的资源映射交互框架中，MSO-VNE算法是核心模块。尽管虚拟网络嵌入问题起源于网络虚拟化，但它仍然属于资源管理领域，因此，我们将其应用到资源映射交互框架中，以处理资源映射问题。由于MSO-VNE 算法是面向媒体业务的，因此，将其应用到面向媒体业务的资源映射管理中，可以保证媒体服务的QoS服务质量需求。
\par
如图\ref{fig:framework}所示，资源映射交互框架主要包括以下几个模块：
\begin{itemize}
\item \textbf{用户接口模块}是交互框架中面向用户的部分，用户在该模块定义他们的需求并请求特定的服务；
\item \textbf{预处理模块}的职责是对用户的请求进行预处理，使得该请求不仅是人类可理解的，更是计算机可理解的；
\item \textbf{资源映射模块}是交互框架的核心，我们采用MSO-VNE算法来辅助处理资源映射；
\item \textbf{资源分配模块}是在当资源映射成功后，进行真正的资源分配；
\item \textbf{资源监控模块}的职责是监控资源池中的任何变化并进行同步管理。
\end{itemize}

\begin{figure}
\centering
\includegraphics[width=0.8\textwidth]{framework.eps}
\caption{面向媒体业务的资源交互系统框架}
\label{fig:framework}
\end{figure}

从整体来看，面向媒体业务的资源映射交互框架可以看做两层：用户层和系统层。显然，用户层的设计是面向用户的，用户通过定义他们的需求并发起请求，接着需求会被分析和处理。当然，任何请求的具体的分析和处理都是在系统层得到处理的，而系统层对用户是透明的。用户层的设计宗旨是让用户专注在他们所关心的服务而不是任何其他的琐碎细节，譬如怎样预处理，如何执行映射抑或如何分配或监控资源。这些琐碎的细节都是有系统层来处理的。
\par
通常，当用户的请求到达时，系统层开始工作。首先，系统层执行预处理以提取有用的信息并分析用户的需求。系统层的核心是资源映射，在资源映射中，我们采用了MSO-VNE算法以执行映射匹配。我们从资源监控模块获取系统可用的资源，如果有足够的资源，用户的请求就会得到成功的匹配。当成功匹配后，资源分配子模块会为用户分配实际的资源。当然，不管是否能够成功映射，系统层都会将处理结果反馈给用户层。反馈对系统是有用的，不仅可以告诉用户请求的处理请求，也可以辅助用户做更好的决策。
\par
下面，我们将详细描述交互系统中的各个模块设计。
\subsection{用户界面}
用户界面是面向用户的，其战略目标是简化用户操作，提升用户体验。
用户界面模块的设计主要考虑以下几个子模块：
\begin{itemize}
\item 功能定义
\par 功能定义模块主要考虑并定义系统可能提供的功能，很显然，功能定义部分和具体的应用场景密切相关。一个良好的功能定义模块可以清晰地将系统呈现在用户面前，很好地回答“系统是什么”以及“系统能做什么”等类似的问题，留给用户良好的印象。
\item 交互设计
\par
交互设计主要解决用户该如何和系统通信、如何交流等问题。常见的交互方式包括命令行、客户端工具、Web网页交互等。不管如何，人们越来越倾向并习惯于可视化交互。
\item 反馈设计
\par
广义上来说，反馈设计也可以算做是交互设计的一个部分，即是系统将最终的处理结果反馈给用户，以便用户做进一步的决策等。
\item 页面布局
\par
页面布局简单来说就是系统元素的呈现方式，如何将系统功能、交互等合理地组合布局，如何突出系统的重点，如何吸引用户的注意力等。
\end{itemize}

\subsection{预处理}
预处理是在进行资源映射前，对用户的请求进行适当的整理和预处理。预处理主要的子模块如下：
\begin{itemize}
\item 信息抽取
\par
从用户提交的请求中抽取系统需要的有用的信息，剔除冗余的信息，以减小处理复杂度并提高效率。
\item 需求解析
\par
需求解析包括需求分类以及信息呈现方式等基本预处理，如统一格式化信息。
\end{itemize}

\subsection{资源映射}
资源映射模块主要包括以下子模块：
\begin{itemize}
\item 资源获取
\par
从资源监控模块获取系统的资源使用情况，主要关注系统的可用资源。
\item 映射匹配
\par
映射匹配是将用户的请求和系统的可用资源进行匹配计算。我们采用的是MSO-VNE算法进行映射匹配。
\end{itemize}

\subsection{资源监控}
资源监控模块主要包括以下子模块：
\begin{itemize}
\item 监控
\item 同步管理
\end{itemize}
顾名思义，监控模块就是监控资源池中资源的变化，并进行同步和更新管理。
\subsection{资源分配}
资源分配模块主要包括以下子模块：
\begin{itemize}
\item 分配
\item 同步管理
\end{itemize}
资源分配模块的功能很直接明确：当映射成功的时候，为用户的请求分配真正的资源为其提供服务。并保持资源池中资源的同步和更新操作。

\section{小结}
本章提出了面向媒体业务的虚拟网络嵌入算法MSO-VNE，并详细阐述了算法的实现细节。MSO-VNE算法根据虚拟网络请求和底层物理网络的地理位置特征，应用节点聚类，充分利用了分而治之策略和并发处理策略的优势。同时，本章在MSO-VNE算法中应用了动态服务均衡分析，以获得较好的动态服务均衡性能。
\par
虽然，VNE问题起源于网络虚拟化，但它仍是资源管理问题。因此，本章提出了面向媒体业务的资源映射交互框架，在交互框架中采用了MSO-VNE算法作为其资源映射核心部件。
\par
为了评估MSO-VNE算法的性能，我们设计了仿真实验。仿真结果表明MSO-VNE算法具有很好的性能，包括较低的时间复杂度、更好的负载均衡、更高的收益开销比和更高的平均接受率。这些良好的性能进一步给我们更大的信心，使我们更加相信基于MSO-VNE的交互框架可以获得更好的QoS服务质量和更好的用户体验。
